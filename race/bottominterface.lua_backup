local screenWidth, screenHeight = guiGetScreenSize()local OCRAStd = dxCreateFont("ocrastd.ttf", 10, false)local lessPixel = 37local lessPixel2 = 16local counter = 0local frames = 0local distanceToHunter = 0local currentMap = "---"local nextMap = "---"local infoText = "---"local xPoint = 0local cServerInfosWidth = 0local isMoveToRight = falseg_drawTimeleftBool = falselocal infoTextAlpha = 255local infoMSGs = {"Dies ist eine coole Infobox","Bei einer Massenpanik, ruhe bewahren!","Serverinhaber: HorrorClown & Cobra","Forum: www.vio-race.de","Teamspeak: ts.vio-race.de:9988","This is a cool information box","Keep calm at a stampede!","Love Dubstep <3!","Nützliche Informationen kannst du in unserer FAQ entnehmen","You can write an invite request in our forum (www.vio-race.de) if you want to become a member","Du kannst eine Anfrage im Forum schreiben, wenn du Member werden möchtest","Keep calm and drop the bass :3","----> Hier könnte Ihre Werbung stehen <----","Unser Notendurchschnitt: 1,337","Bei einer Massenpanik, ruhe bewahren!","Bei Fragen, Probleme oder sonstigem, steht unser Team dir gerne zur verfügung (Teamspeak/Forum)","wahnung! killjaden isnt eh so gudda rayca","*____________________________________________*",":P",":-D",":(","XD","=)","=D","!?","Diese Nachricht konnte nicht gefunden werden, Oups","a² + b² = c²","1+2+3+4 = 10","*-*","@.@","d-_-b","(d(-.-)b)","Die folgende Nachricht ist für User unter 18 Jahren nicht geeignet :3","YOLO ist eine dämliche nacherfindung von Polo!","Sollte der Server mal offline sein, so wählen sie 110","Wer das ließt, ist doof","HAAAAA, GAY!",":>","We can see you!","Shup up, B@#c$?&h","Wenn du dich fragst, warum du das hieß ließt, könnte wir uns genauso fragen, warum wir soetwas eigentlich gescriptet haben o.o","Beim registrieren, hast du bestätigt, dass du dich mit den Regeln im Forum vertraut gemacht hast!","Unwissenheit schützt vor Strafe nicht D: F#@*ck you NSA!","Für schnellen Support, nutze /support [text]","Drücke 'u' für das Userpanel","Rekord: 103 Spieler gleichzeitig online","For fast support, type /support [test]","Wenn es zu weit weg ist, dann brauchst du es nicht","Wenn etwas unter dein Bett fällt, ist es weg. Für immer.","Wenn es dir niemand holt, brauchst du es nicht mehr.","Muss man sich das Essen vorher noch selber machen, hat man keinen Hunger.","Du trinkst nachts nur etwas, wenn es direkt neben dem Bett steht.","Ist es nicht auf der ersten Seite von Googel existiert es nicht.","Wenn du mit dem Staubsauger nicht rankommst ist dort schon sauber.","Der PC wird mit dem großen Zeh aus gemacht, nicht mit der Hand.","Wenn die Fernbedienung zu weit weg ist, dann wird plötzlich alles interessant was gerade läuft.","Hör auf selbst aufzuräumen. Ruf das Ordnungsamt an. Wozu sind die sonst da?","Erst 'ne Stunde aufs Ohr hauen, dann ins Bett.","Vermeide es zu kochen. Döner holen ist auch kochen!","Aufgaben so lange verschieben, bis sie entgültig vergessen werden.","Aufräumen muss man erst, wenn das WLAN-Signal nicht mehr durchkommt!",}function drawBottom()	dxDrawImage(0, screenHeight-40, 1920, 48, "img/bottominterface.png")	cInfosWidth = dxGetTextWidth("FPS: " .. frames .. " Hunter: " .. distanceToHunter .. " Current map: " .. currentMap .. " Next map: " .. nextMap, 1, OCRAStd)	dxDrawColorText("FPS: #FF5500" .. frames .. " #ffffffHunter: #FF5500" .. distanceToHunter .. " #ffffffCurrent map: #FF5500" .. currentMap .. " #ffffffNext map: #FF5500" .. nextMap, (screenWidth/2)-(cInfosWidth/2), screenHeight-lessPixel, screenWidth, screenHeight, tocolor(255, 255, 255, 255), 1, OCRAStd)	dxDrawColorText(infoText, xPoint, screenHeight-lessPixel2, screenWidth, screenHeight, tocolor(255, 255, 255, infoTextAlpha), 1, OCRAStd)endaddEventHandler("onClientRender", getRootElement(), drawBottom)function drawTimeleft()	if g_drawTimeleftBool then		dxDrawImage((screenWidth/2)-(453/2), screenHeight-84, 453, 46, "img/timeleft.png")		dxDrawColorText("-Time left-", (screenWidth/2)-154, screenHeight-73, screenWidth, screenHeight, tocolor(0, 0, 0), 1, OCRAStd) --shadow		dxDrawColorText("-Time left-", (screenWidth/2)-155, screenHeight-74, screenWidth, screenHeight, tocolor(255, 85, 0), 1, OCRAStd)				dxDrawColorText("-Time passed-", (screenWidth/2)+21, screenHeight-73, screenWidth, screenHeight, tocolor(0, 0, 0), 1, OCRAStd) --shadow		dxDrawColorText("-Time passed-", (screenWidth/2)+20, screenHeight-74, screenWidth, screenHeight, tocolor(255, 85, 0), 1, OCRAStd)				dxDrawColorText(g_TimeLeft, (screenWidth/2)-149, screenHeight-54, screenWidth, screenHeight, tocolor(0, 0, 0), 1, OCRAStd) --shadow		dxDrawColorText(g_TimeLeft, (screenWidth/2)-150, screenHeight-55, screenWidth, screenHeight, tocolor(255, 255, 255), 1, OCRAStd)				dxDrawColorText(g_TimePassed, (screenWidth/2)+41, screenHeight-54, screenWidth, screenHeight, tocolor(0, 0, 0), 1, OCRAStd) --shadow		dxDrawColorText(g_TimePassed, (screenWidth/2)+40, screenHeight-55, screenWidth, screenHeight, tocolor(255, 255, 255), 1, OCRAStd)	endendaddEventHandler("onClientRender", getRootElement(), drawTimeleft)function resolutionCalculating()	if screenWidth < 1600 then		lessPixel = 35		lessPixel2 = 16		OCRAStd = dxCreateFont("ocrastd.ttf", 8, false)	elseif screenWidth < 800 then		setTimer(outputChatBox, 20000, 1, "Mit deiner Auflösung könnten einige Elemente nicht richtig angezeigt werden!", 255, 0, 0)	else		lessPixel = 37		lessPixel2 = 18		OCRAStd = dxCreateFont("ocrastd.ttf", 10, false)	endendaddEventHandler("onClientResourceStart", getResourceRootElement(getThisResource()), resolutionCalculating)function moveAnimation()	if isMoveToRight then return end	local xRightPoint = xPoint+cServerInfosWidth	if xRightPoint > 0 then		xPoint = xPoint-1	else		xPoint = screenWidth + 100	endendaddEventHandler("onClientPreRender", getRootElement(), moveAnimation)function setText(state)	if state then		addEventHandler("onClientPreRender", getRootElement(), moveToRight)		infoText = "#ffffffMapname: #ff5500" .. Mapname .. " #FF0000- #ffffffAuthor: #ff5500" .. Mapauthor .. " #FF0000- #ffffffLast time played: #ff5500" .. MapLastTimePlayed .. " #FF0000- #ffffffPlayed count: #ff5500" .. MapPlayedCount .. " #ff0000- #ffffffHunters reached: #ff5500" .. MapHunterReachedCount .. " #ff0000- #ffffffMap rating: #ff5500" .. MapRate .. " #ff0000- #ffffffRating times: #ff5500" .. MapRatingTimes		cServerInfosWidth = dxGetTextWidth(removeColorCodes(infoText), 1, OCRAStd)				if isTimer(mapInfoTimer) then killTimer(mapInfoTimer) end		mapInfoTimer = setTimer(setText, 60000, 1, false)	else		theEvent = addEventHandler("onClientPreRender", getRootElement(), fadeInfotextOut)	endendfunction fadeInfotextIn()	if not (infoTextAlpha >= 255) then		infoTextAlpha = infoTextAlpha + 5	else		removeEventHandler("onClientPreRender", getRootElement(), fadeInfotextIn)	endendfunction fadeInfotextOut()	if not (infoTextAlpha <= 0) then		infoTextAlpha = infoTextAlpha - 15	else		removeEventHandler("onClientPreRender", getRootElement(), fadeInfotextOut)		addEventHandler("onClientPreRender", getRootElement(), fadeInfotextIn)		infoText = tostring(table.random(infoMSGs))		cServerInfosWidth = dxGetTextWidth(removeColorCodes(infoText), 1, OCRAStd)				if isTimer(mapInfoTimer) then killTimer(mapInfoTimer) end		mapInfoTimer = setTimer(setText, 30000, 1, false)	endendfunction moveToRight()	isMoveToRight = true		if xPoint < screenWidth+20 then		xPoint = xPoint + 70	else		isMoveToRight = false		removeEventHandler("onClientPreRender", getRootElement(), moveToRight)	endendfunction sendClientMapInfo(hunterReached,mapRate,ratedTimes)	huntersReached = hunterReached	mapRates = mapRate	ratedTimess = ratedTimesendaddEvent("sendClientMapInfo",true)addEventHandler("sendClientMapInfo",getLocalPlayer(),sendClientMapInfo)function handleMapInfo(mapInfo)	Mapname = mapInfo.name or "Unknown"	Mapauthor = mapInfo.author or "Unknown"	MapLastTimePlayed = timestampToDate(mapInfo.lastTimePlayed) or "Unknown"	MapPlayedCount = tostring(mapInfo.playedCount or "Unknown")	MapHunterReachedCount = huntersReached or "0"	MapRate = mapRates or "-"	MapRatingTimes = ratedTimess or "0"	setText(true)endaddEvent("onClientMapStarting",true)addEventHandler("onClientMapStarting",getRootElement(),handleMapInfo)function getDistanceToHunter()	for _,e in pairs ( getElementsByType ( "racepickup") or {} ) do		local t = getElementData (e, "type")		if t and t == "vehiclechange" then			local v = getElementData (e,"vehicle")			if v and tonumber(v) == 425 then				local hunterX, hunterY, hunterZ = getElementPosition (e)				local playerX, playerY, playerZ = getElementPosition (getSpecPlayerOrReturnMe())				distanceToHunter = math.floor(getDistanceBetweenPoints3D ( playerX, playerY, playerZ, hunterX, hunterY, hunterZ ))				return			else				distanceToHunter = "---"			end		end	endendaddEventHandler ( 'onClientRender', getRootElement(), getDistanceToHunter)function getSpecPlayerOrReturnMe ()	local target = getCameraTarget()	if target and getElementType(target) == "vehicle" then		return getVehicleOccupant(target)	else		return getLocalPlayer()	endendfunction update_client_infos(Ping,Map,Nextmap)	currentMap = Map	nextMap = NextmapendaddEvent("update_client_infos", true)addEventHandler("update_client_infos", getRootElement(), update_client_infos)addEventHandler("onClientRender",getRootElement(),	function()		if not starttick then			starttick = getTickCount()		end		counter = counter + 1		currenttick = getTickCount()		if currenttick - starttick >= 1000 then			frames = counter			counter = 0			starttick = false		end	end)function timestampToDate(stamp)	local time = getRealTime(stamp)	return string.format("%d %s %02d:%02d",time.monthday,month[time.month+1],time.hour,time.minute)endfunction table.random (theTable)    return theTable[math.random (#theTable)]endfunction removeColorCodes(text)	if text then		return string.gsub(text, "#%x%x%x%x%x%x", "")	else		return "No text in function removeColorCodes"	endend